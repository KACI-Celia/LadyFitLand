

{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block body %}
    <h1 class="text-center my-3 display-5">Inscription</h1>
        <div id="registration-form">
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: 33%;" aria-valuenow="33" aria-valuemin="0" aria-valuemax="100"></div>
        </div>

        <form id="step1" class="registration-step">
            <!-- Étape 1 -->
            {{ form_row(registrationForm.nomUser) }}
            {{ form_row(registrationForm.prenomUser) }}
            {{ form_row(registrationForm.email) }}
            {{ form_row(registrationForm.telUser) }}
            <button type="button" onclick="nextStep(2)" class="btn btn-dark mt-3 ms-2">Suivant</button>
            
        </form>

        <form id="step2" class="registration-step" style="display: none;">
            <!-- Étape 2 -->
            {{ form_row(registrationForm.dateNaissanceUser) }}
            {{ form_row(registrationForm.adresseUser) }}
            {{ form_row(registrationForm.zipcode) }}
            {{ form_row(registrationForm.city) }}
            <button type="button" onclick="nextStep(3)" class="btn btn-dark mt-3 ms-2">Suivant</button>
            
        </form>

        <form id="step3" class="registration-step" style="display: none;">
            <!-- Étape 3 -->
            {{ form_row(registrationForm.plainPassword, { label: 'Mot de passe' }) }}
            {{ form_row(registrationForm.agreeTerms) }}
            <button type="submit" class="btn btn-dark mt-3 ms-2">Je m'inscris</button>
        </form>
    </div>

<script>

function updateProgressBar(currentStep, totalSteps) {
    const progressBar = document.querySelector('.progress-bar');
    const progressPercentage = (currentStep / totalSteps) * 100;
    progressBar.style.width = progressPercentage + '%';
}

function nextStep(step) {
    // Masquer toutes les étapes
    document.querySelectorAll('.registration-step').forEach(step => {
        step.classList.remove('visible');
        step.style.display = 'none';
    });

    // Afficher l'étape suivante
    const nextStep = document.getElementById('step' + step);
    nextStep.classList.add('visible');
    nextStep.style.display = 'block'
    
     // Mettre à jour la barre de progression
    updateProgressBar(step, 3);
}

</script>
{% endblock %}